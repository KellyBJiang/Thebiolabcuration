{"changed":true,"filter":false,"title":"index.html","tooltip":"/curator/templates/curator/index.html","value":"{% extends \"administrator/header.html\" %}\n{% block content %}\n\t{% if request.user.is_authenticated %}\n\t\t<!--navbar-->\n\t\t<nav class=\"navbar navbar-default\" style=\"background-color: #e3f2fd;\">\n\t\t\t<div class = \"continer\">\n\t\t\t\t<div class = \"row\">\n\t\t\t\t\t<div class = \"col-sm-2\">\n\t\t\t\t\t\t<form method=\"post\" action={% url 'index' user_id %}>\n\t\t\t\t\t     \t{% csrf_token %}\n\t\t\t\t\t\t\t<select class=\"selectpicker\" name=\"selector\" onchange=\"reply_select()\"  style=\"margin-top:20px\">\n\t\t\t\t\t\t\t\t<option value=-1 >All topics</option>\n\t\t\t\t\t\t\t\t{% for topic in topics %}\n\t\t\t\t\t\t\t\t\t{% if select_topic == topic.pk %}\n\t\t\t\t\t\t\t\t\t\t<option value={{topic.pk}} selected>{{topic.topic}}</option>\n\t\t\t\t\t\t\t\t\t{% else %}\n\t\t\t\t\t\t\t\t\t\t<option value={{topic.pk}} >{{topic.topic}}</option>\n\t\t\t\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t\t\t\t{% endfor %}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<input id=\"select_button\" style=\"display: none;\" type=\"submit\" value=\"Select\">\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class = \"col-sm-2\">\n\t\t\t\t\t\t<form method=\"post\" action={% url 'index' user_id %}>\n\t\t\t\t\t     \t{% csrf_token %}\n\t\t\t\t\t\t\t<select id=\"items_per_page\" name=\"items_per_page\" onchange=\"reply_items()\"  style=\"margin-top:20px\">\n\t\t\t\t\t\t\t\t<option value=\"10\" >10</option>\n\t\t\t\t\t\t\t\t<option value=\"25\" >25</option>\n\t\t\t\t\t\t\t\t<option value=\"50\" >50</option>\n\t\t\t\t\t\t\t\t<option value=\"100\" >100</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<input id=\"items_per_page_button\" style=\"display: none;\" type=\"submit\" value=\"Submit\">\n\t\t\t\t\t\t\t<span>Items per page</span>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class = \"col-sm-4\">\n\t\t\t\t\t\t<ul id=\"navbar_ul\"  class=\"nav navbar-nav\">\n\t\t\t\t\t       \t\t<li id=\"0\" ><a href = \"#\">To Do</a></li>\n\t\t\t\t\t       \t\t<li id=\"1\" ><a href = \"#\">Submitted</a></li>\n\t\t\t\t\t       \t\t<li id=\"2\" ><a href = \"#\">Undecided</a></li>\n\t\t\t\t       \t</ul>\n\t\t\t\t\t\t<form id=\"navbar_form\" method=\"post\" action={% url 'index' user_id %} style=\"display:none\">\n\t\t\t\t\t     \t{% csrf_token %}\n\t\t\t\t    \t\t<input type=\"radio\" value=\"0\" name=\"navbar\"/>\n\t\t\t\t    \t\t<input type=\"radio\" value=\"1\" name=\"navbar\"/>\n\t\t\t\t    \t\t<input type=\"radio\" value=\"2\" name=\"navbar\"/>\n\t\t\t\t       \t\t<input id=\"navbar_button\" style=\"display: none;\" type=\"submit\" value=\"Submit\">\n\t\t\t       \t\t</form>\n\t\t\t\t    </div>\n\t\t\t\t    \n\t\t\t\t    <div class = \"col-sm-2\">\n\t\t\t\t    \t<div id=\"welcome\">Welcome  {{user.username}}</div>\n\t\t\t\t    </div>\n\t\t\t\t    \n\t\t\t\t    <div class = \"col-sm-1\">\n\t\t\t\t\t    <ul class=\"nav navbar-nav navbar-right\"> \n\t\t\t\t\t\t\t <li> <a href=\"/logout/\"> Log Out </a></li>\n\t\t\t\t\t\t</ul>    \n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t\t<div class=\"container\">\n\t\t\tyou have <span id=\"assign_count\">{{count}}</span> assigments:\n\t\t\t<div id=\"display\">\n\t\t\t\t<table id='data_table' class='table table-hover'>\n\t\t\t\t\t{% if nav == 2 or nav == 0 %}\n\t\t\t\t\t\t<thead><tr><th>Accession</th><th>Title</th><th>Keywords</th></tr></thead>\n    \t        \t\t<tbody>\n    \t        \t\t    {% for c in  curation %}\n    \t        \t\t\t\t{% for data in dataset %}\n    \t        \t\t\t\t\t{% if select_topic < 0 %}\n    \t        \t\t\t\t\t\t{% if data.id == c.data_id_id %}\n    \t        \t\t\t\t\t\t\t<tr><td>{{data.accNo}}</td><td align='left'><a href ='/curator/{{user_id}}/dataset/{{data.id}}/{{c.id}}'>{{c.data_id}}</a></td><td>{{data.keywords}}</td></tr>\n    \t        \t\t\t\t\t\t{% endif %}\n    \t        \t\t\t\t\t{% else %}\n    \t        \t\t\t\t\t\t{% if  data.id == c.data_id_id and c.topic_id_id == select_topic %}\n    \t        \t\t\t\t\t\t\t<tr><td>{{data.accNo}}</td><td align='left'><a href ='/curator/{{user_id}}/dataset/{{data.id}}/{{c.id}}'>{{c.data_id}}</a></td><td>{{data.keywords}}</td></tr>\n\t\t\t\t\t\t\t\t\t\t{% endif%}\n    \t        \t\t\t\t\t{% endif %}\n    \t        \t\t\t\t{% endfor %}\n    \t        \t\t\t{% endfor%}\n\t\t\t  \t\t\t</tbody>\n\t\t\t\t\t{% else %}\n\t\t\t\t\t\t<thead><tr><th>Accession</th><th>Title</th><th>Keywords</th><th>Result</th></tr></thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{% for c in  curation %}\n       \t\t\t\t\t\t{% for data in dataset %}\n       \t\t\t\t\t\t\t{% if select_topic < 0  %}\n\t    \t \t\t\t\t\t\t{% if data.id == c.data_id_id %}\n\t    \t \t\t\t\t\t\t\t{%  if c.result == 'Y' %}\n\t    \t \t\t\t\t\t\t\t\t<tr><td>{{data.accNo}}</td><td align='left'><a href ='/curator/{{user_id}}/dataset/{{data.id}}/{{c.id}}'>{{c.data_id}}</a></td><td>{{data.keywords}}</td><td>Yes</td></tr>\n\t\t    \t \t\t\t\t\t\t{% elif c.result == 'N'%}\n\t    \t \t  \t\t\t\t\t\t\t<tr><td>{{data.accNo}}</td><td align='left'><a href ='/curator/{{user_id}}/dataset/{{data.id}}/{{c.id}}'>{{c.data_id}}</a></td><td>{{data.keywords}}</td><td>No</td></tr>\n\t\t\t\t\t\t\t\t\t\t{% elif c.result == 'U'%}\n\t\t\t\t\t\t\t\t\t\t\t<tr><td>{{data.accNo}}</td><td align='left'><a href ='/curator/{{user_id}}/dataset/{{data.id}}/{{c.id}}'>{{c.data_id}}</a></td><td>{{data.keywords}}</td><td>Undecided</td></tr>\n\t    \t \t\t\t\t\t\t\t{%  endif %}\n\t    \t \t\t\t\t\t\t{% endif %}\n\t    \t \t\t\t\t\t{% else %}\n\t    \t \t\t\t\t\t\t{% if data.id == c.data_id_id and data.topic == select_topic %}\n\t    \t \t\t\t\t\t\t\t{%  if c.result == 'Y' %}\n\t    \t \t\t\t\t\t\t\t\t<tr><td>{{data.accNo}}</td><td align='left'><a href ='/curator/{{user_id}}/dataset/{{data.id}}/{{c.id}}'>{{c.data_id}}</a></td><td>{{data.keywords}}</td><td>Yes</td></tr>\n\t    \t \t\t\t\t\t\t\t{% elif c.result == 'N'%}\n\t    \t \t\t\t\t\t\t\t\t<tr>< td>{{data.accNo}}</td><td align='left'><a href ='/curator/{{user_id}}/dataset/{{data.id}}/{{c.id}}'>{{c.data_id}}</a></td><td>{{data.keywords}}</td><td>No</td></tr>\n\t\t\t\t\t\t\t\t\t\t{% elif c.result == 'U'%}\n\t\t\t\t\t\t\t\t\t\t\t<tr><td>{{data.accNo}}</td><td align='left'><a href ='/curator/{{user_id}}/dataset/{{data.id}}/{{c.id}}'>{{c.data_id}}</a></td><td>{{data.keywords}}</td><td>Undecided</td></tr>\n\t\t    \t \t\t\t\t\t\t{%  endif %}\n\t    \t \t\t\t\t\t\t{% endif %}\n\t    \t \t\t\t\t\t{% endif %}\n    \t  \t\t\t\t\t{% endfor %}\n    \t  \t\t\t\t{% endfor%}\n\t\t\t  \t\t\t</tbody>\n\t\t\t\t\t{% endif %}\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t\n\t\t\t<!--Pagination at back-end-->\n\t\t\t{% if dataset.has_other_pages %}\n\t\t\t\t<ul class=\"pagination\">\n\t\t\t\t\t<!--{% if dataset.has_previous %}-->\n\t\t\t\t\t<!--\t<li><a href=\"?page={{ users.previous_page_number }}\">&laquo;</a></li>-->\n\t\t\t\t\t<!--{% else %}-->\n\t\t\t\t\t<!--\t<li class=\"disabled\"><span>&laquo;</span></li>-->\n\t\t\t\t\t<!--{% endif %}-->\n\t\t\t\t\t{% for i in dataset.paginator.page_range %}\n\t\t\t\t\t\t{% if dataset.number == i %}\n\t\t\t\t\t\t\t<li class=\"active\"><span>{{ i }} <span class=\"sr-only\">(current)</span></span></li>\n\t\t\t\t\t\t{% else %}\n\t\t\t\t\t\t\t<li><a href=\"?page={{ i }}\">{{ i }}</a></li>\n\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t{% endfor %}\n\t\t\t\t\t<!--{% if dataset.has_next %}-->\n\t\t\t\t\t<!--\t<li><a href=\"?page={{ users.next_page_number }}\">&raquo;</a></li>-->\n\t\t\t\t\t<!--{% else %}-->\n\t\t\t\t\t<!--\t<li class=\"disabled\"><span>&raquo;</span></li>-->\n\t\t\t\t\t<!--{% endif %}-->\n\t\t\t\t</ul>\n\t\t\t{% endif %}\n\t\t</div>\n\n<script>\n\t\n\t$(document).ready(function() {\n\t\tvar count = ' {{count}}';\n\t\t\n\t\tif('{{nav}}' == 0)\n\t\t\t$(\"#assign_count\").text(count);\n\t\telse if('{{nav}}' == 1)\n\t\t\t$(\"#assign_count\").text(count+\" submitted \");\n\t\telse\n\t\t\t$(\"#assign_count\").text(count+\" undecided \");\n\t\t\n\t\t//highlight navbar \n\t\tvar navbarId = '{{nav}}';\n\t\t//console.log(navbarId);\n\t\t$(\"#navbar_ul\").find(\"li.active\").removeClass(\"active\");\n\t\t$(\"#navbar_ul\").find(\"li#\"+navbarId).addClass(\"active\");\n\t\t\n\t    $(\"#navbar_ul li\").on(\"click\", function() {\n\t\t\t//check the radio button\n\t\t\tvar li_id = $(this).attr('id');\n\t\t\t$(\"form#navbar_form\").find(\"input[name='navbar'][value='\"+li_id+\"']\").prop('checked',true)\n\t\t\t$(\"#navbar_button\").click();\n\t    });\n\t    \n\t    //keep user selected items per page\n\t    //console.log(\"items_per_page: \"+'{{items_per_page}}');\n\t    var items_per_page = '{{items_per_page}}';\n\t    $(\"select#items_per_page\").find(\"option[value=\"+items_per_page+\"]\").prop('selected','selected');\n\t   \n\t});\t\n\t\n\t//button click(post topic selection)\n\tfunction reply_select()\n\t{\n\t\t$(\"#select_button\").click();\n\t}\n\t\n\t//button click(post items per page)\n\tfunction reply_items() \n\t{\n\t\t$(\"#items_per_page_button\").click();\n\t}\n\t\n\t\n\n   </script>\n\n\n{% else %}\n<p>You must login first</p>\n{% endif %}\n{% endblock %}\t\t\n","undoManager":{"mark":27,"position":28,"stack":[[{"start":{"row":177,"column":31},"end":{"row":177,"column":32},"action":"insert","lines":[" "],"id":2917}],[{"start":{"row":143,"column":0},"end":{"row":153,"column":2},"action":"remove","lines":["\t\t","\t\t","\t\t","\t\t","\t\t","\t\t","\t\t","\t\t","\t\t","\t\t","\t\t"],"id":2918}],[{"start":{"row":142,"column":2},"end":{"row":143,"column":0},"action":"remove","lines":["",""],"id":2919}],[{"start":{"row":141,"column":8},"end":{"row":142,"column":2},"action":"remove","lines":["","\t\t"],"id":2920}],[{"start":{"row":165,"column":31},"end":{"row":165,"column":32},"action":"remove","lines":[" "],"id":2921}],[{"start":{"row":122,"column":34},"end":{"row":122,"column":37},"action":"insert","lines":["-->"],"id":2922},{"start":{"row":122,"column":5},"end":{"row":122,"column":9},"action":"insert","lines":["<!--"]},{"start":{"row":123,"column":75},"end":{"row":123,"column":78},"action":"insert","lines":["-->"]},{"start":{"row":123,"column":5},"end":{"row":123,"column":9},"action":"insert","lines":["<!--"]},{"start":{"row":124,"column":15},"end":{"row":124,"column":18},"action":"insert","lines":["-->"]},{"start":{"row":124,"column":5},"end":{"row":124,"column":9},"action":"insert","lines":["<!--"]},{"start":{"row":125,"column":52},"end":{"row":125,"column":55},"action":"insert","lines":["-->"]},{"start":{"row":125,"column":5},"end":{"row":125,"column":9},"action":"insert","lines":["<!--"]},{"start":{"row":126,"column":16},"end":{"row":126,"column":19},"action":"insert","lines":["-->"]},{"start":{"row":126,"column":5},"end":{"row":126,"column":9},"action":"insert","lines":["<!--"]}],[{"start":{"row":134,"column":30},"end":{"row":134,"column":33},"action":"insert","lines":["-->"],"id":2923},{"start":{"row":134,"column":5},"end":{"row":134,"column":9},"action":"insert","lines":["<!--"]},{"start":{"row":135,"column":71},"end":{"row":135,"column":74},"action":"insert","lines":["-->"]},{"start":{"row":135,"column":5},"end":{"row":135,"column":9},"action":"insert","lines":["<!--"]},{"start":{"row":136,"column":15},"end":{"row":136,"column":18},"action":"insert","lines":["-->"]},{"start":{"row":136,"column":5},"end":{"row":136,"column":9},"action":"insert","lines":["<!--"]},{"start":{"row":137,"column":52},"end":{"row":137,"column":55},"action":"insert","lines":["-->"]},{"start":{"row":137,"column":5},"end":{"row":137,"column":9},"action":"insert","lines":["<!--"]},{"start":{"row":138,"column":16},"end":{"row":138,"column":19},"action":"insert","lines":["-->"]},{"start":{"row":138,"column":5},"end":{"row":138,"column":9},"action":"insert","lines":["<!--"]}],[{"start":{"row":40,"column":42},"end":{"row":40,"column":43},"action":"insert","lines":[" "],"id":2924}],[{"start":{"row":40,"column":43},"end":{"row":40,"column":44},"action":"insert","lines":["h"],"id":2925}],[{"start":{"row":40,"column":44},"end":{"row":40,"column":45},"action":"insert","lines":["r"],"id":2926}],[{"start":{"row":40,"column":45},"end":{"row":40,"column":46},"action":"insert","lines":["e"],"id":2927}],[{"start":{"row":40,"column":46},"end":{"row":40,"column":47},"action":"insert","lines":["f"],"id":2928}],[{"start":{"row":40,"column":47},"end":{"row":40,"column":48},"action":"insert","lines":[" "],"id":2929}],[{"start":{"row":40,"column":48},"end":{"row":40,"column":49},"action":"insert","lines":["="],"id":2930}],[{"start":{"row":40,"column":49},"end":{"row":40,"column":50},"action":"insert","lines":[" "],"id":2931}],[{"start":{"row":40,"column":50},"end":{"row":40,"column":52},"action":"insert","lines":["\"\""],"id":2932}],[{"start":{"row":40,"column":51},"end":{"row":40,"column":52},"action":"insert","lines":["#"],"id":2933}],[{"start":{"row":41,"column":28},"end":{"row":41,"column":29},"action":"insert","lines":[" "],"id":2934}],[{"start":{"row":41,"column":29},"end":{"row":41,"column":40},"action":"insert","lines":[" href = \"#\""],"id":2935}],[{"start":{"row":42,"column":28},"end":{"row":42,"column":39},"action":"insert","lines":[" href = \"#\""],"id":2936}],[{"start":{"row":41,"column":29},"end":{"row":41,"column":30},"action":"remove","lines":[" "],"id":2937}],[{"start":{"row":40,"column":25},"end":{"row":40,"column":39},"action":"remove","lines":["class=\"active\""],"id":2938}],[{"start":{"row":10,"column":15},"end":{"row":10,"column":35},"action":"insert","lines":["class=\"selectpicker\""],"id":2939}],[{"start":{"row":10,"column":35},"end":{"row":10,"column":36},"action":"insert","lines":[" "],"id":2940}],[{"start":{"row":27,"column":15},"end":{"row":27,"column":35},"action":"insert","lines":["class=\"selectpicker\""],"id":2941}],[{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"insert","lines":[" "],"id":2942}],[{"start":{"row":27,"column":15},"end":{"row":27,"column":35},"action":"remove","lines":["class=\"selectpicker\""],"id":2944}],[{"start":{"row":27,"column":15},"end":{"row":27,"column":16},"action":"remove","lines":[" "],"id":2945}],[{"start":{"row":106,"column":20},"end":{"row":106,"column":21},"action":"insert","lines":[" "],"id":2946}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":106,"column":21},"end":{"row":106,"column":21},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":23,"state":"start","mode":"ace/mode/html"}},"timestamp":1507306996725}