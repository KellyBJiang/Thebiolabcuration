{% extends "administrator/header.html" %}
{% block content %}
	{% if request.user.is_authenticated %}
		<!--navbar-->
		<nav class="navbar navbar-default" style="background-color: #e3f2fd;">
		  <div class="container-fluid">                                                                                                                                         
		    <ul class="nav navbar-nav">
		      <li id="0" onClick="reply_click(this.id)">
		      	<a href="#">To Do</a>
		      </li>
		      <li id="1" onClick="reply_click(this.id)">
		      	<a href="#">Submitted</a>
		      </li>
		      <li id="2" onClick="reply_click(this.id)">
		      	<a href="#">Undecided</a>
		      </li>
		    </ul>
		    <ul class="nav navbar-nav navbar-right"> 
				 <li> <a href="/logout/">Log Out </a></li>
			</ul>    
			</div>
		</nav>
	
		<div class="row">
			<div class = "container">
				<input type="text" name="dataset number" class="form-control" placeholder="Desired datasets shown per page">	
				<button type="submit">Apply</button>	
			</div>
			
		</div>
		
	
		
		<div class="row">
			<div id="display">
				
			</div>
		</div>
		
<script>
   reply_click(0);
    function reply_click(clicked_id)
    {
       
       if(clicked_id == 0)
       {
       	
           document.getElementById("display").innerHTML = 
                "<div class='row'>"+
					"<div class='container-fluid'>"+
        	        	"<ul class='list-grpup'>"+
        	        		"<h5>Welcome  {{user.username}}, you have {{datasets_count}} assigments:</h5>"+
			  	    		"{% for data in datasets %}"+
								"<li class='list-group-item'><a href ='/curator/{{user_id}}/dataset/{{data.id}}'><table class='table' style='margin-bottom:0px ;'><tr><td>{{data.accNo}}</td><td align='left'>{{data.title}}</td><td>{{data.date}}</td></tr></table></a></li>"+
			  	    		"{% endfor%}"+
				  		"</ul>"+
	        		"</div>"+
				"</div>";
       }
        if(clicked_id==1)
        {
            var content = document.getElementById("display");
             content.innerHTML = 
             "<div class='row'>"+
					"<div class='container-fluid'>"+
        	        	"<ul class='list-grpup'>"+
        	        		"<h5>Welcome {{user.username}}, you have {{datasets_submitted.count}} submitted assigments:</h5>"+
			  	    		"{% for data in datasets_submitted %}"+
								"<li class='list-group-item'><a href ='/curator/{{user_id}}/dataset/{{data.id}}'><table class='table' style='margin-bottom:0px ;'><tr><td>{{data.accNo}}</td><td align='left'>{{data.title}}</td><td>{{data.date}}</td></tr></table></a></li>"+
			  	    		"{% endfor%}"+
				  		"</ul>"+
	        		"</div>"+
				"</div>";
        }
        if(clicked_id==2)
        {
            document.getElementById("display").innerHTML = 
            	"<div class='row'>"+
					"<div class='container-fluid'>"+
        	        	"<ul class='list-grpup'>"+
        	        		"<h5>Welcome {{user.username}}, you have {{datasets_undicided.count}} undicided assigments:</h5>"+
			  	    		"{% for data in datasets_undicided %}"+
								"<li class='list-group-item'><a href ='/curator/{{user_id}}/dataset/{{data.id}}'><table class='table' style='margin-bottom:0px ;'><tr><td>{{data.accNo}}</td><td align='left'>{{data.title}}</td><td>{{data.date}}</td></tr></table></a></li>"+
			  	    		"{% endfor%}"+
				  		"</ul>"+
	        		"</div>"+
				"</div>";
        }
       

    }
   </script>




<div class="row">
	<div class="text-center">
		<div class="pagination" >
		{% if datasets.has_other_pages %}
			<ul class="pagination">
				{% if datasets.has_previous %}
					<li><a href="?page={{ datasets.previous_page_number }}">&laquo;</a></li>
				{% else %}
					<li class="disabled"><span>&laquo;</span></li>
				{% endif %}
					
				{% for i in datasets.paginator.page_range %}
					{% if users.number == i %}
						<li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
					{% else %}
					    <li><a href="?page={{ i }}">{{ i }}</a></li>
					{% endif %}
				{% endfor %}
				
				{% if datasets.has_next %}
					<li><a href="?page={{ datasets.next_page_number }}">&raquo;</a></li>
				{% else %}
					<li class="disabled"><span>&raquo;</span></li>
				{% endif %}
			</ul>
		{% endif %}
		</div>
	</div>
</div>


{% else %}
<p>You must login first</p>
{% endif %}
{% endblock %}		
